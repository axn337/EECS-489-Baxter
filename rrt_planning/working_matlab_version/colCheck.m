function collide = colCheck(angles)

T1 = angles(1); T2 = angles(2); T3 = angles(3);
T4 = angles(4); T5 = angles(5); T6 = angles(6);
T7 = angles(7);

twist1 = [ cos(T1), -1.0*sin(T1),   0,   0;...
sin(T1),      cos(T1),   0,   0;...
0,            0, 1.0,   0;...
0,            0,   0, 1.0];

twist2 = [ 1.0,            0,       0,                                    0;...
0,      cos(T2), sin(T2), 0.069 - 0.27*sin(T2) - 0.069*cos(T2);...
0, -1.0*sin(T2), cos(T2),  0.069*sin(T2) - 0.27*cos(T2) + 0.27;...
0,            0,       0,                                  1.0];

twist3 = [      cos(T3),   0, sin(T3),       -0.27*sin(T3);...
0, 1.0,       0,                   0;...
-1.0*sin(T3),   0, cos(T3), 0.27 - 0.27*cos(T3);...
0,   0,       0,                 1.0];

twist4 = [ 1.0,            0,       0,                                     0;...
0,      cos(T4), sin(T4), 0.433 - 0.201*sin(T4) - 0.433*cos(T4);...
0, -1.0*sin(T4), cos(T4), 0.433*sin(T4) - 0.201*cos(T4) + 0.201;...
0,            0,       0,                                   1.0];

twist5 = [      cos(T5),   0, sin(T5),        -0.201*sin(T5);...
0, 1.0,       0,                     0;...
-1.0*sin(T5),   0, cos(T5), 0.201 - 0.201*cos(T5);...
0,   0,       0,                   1.0];...

twist6 = [ 1.0,            0,       0,                                     0;...
0,      cos(T6), sin(T6), 0.808 - 0.191*sin(T6) - 0.808*cos(T6);...
0, -1.0*sin(T6), cos(T6), 0.808*sin(T6) - 0.191*cos(T6) + 0.191;...
0,            0,       0,                                   1.0];

twist7 = [      cos(T7),   0, sin(T7),        -0.191*sin(T7);...
0, 1.0,       0,                     0;...
-1.0*sin(T7),   0, cos(T7), 0.191 - 0.191*cos(T7);...
0,   0,       0,                   1.0];

E(:,1) = [.060; 0.060; 0.27035/2];
% E(:,1) = [0;0;0];
%Translate into local coordinate frame:
box{1} = [1 0 0 0;...
          0 1 0 0;...
          0 0 1 0.27035/2;...
          0 0 0 1];
      
E(:,2) = [0.06; 0.360/2-0.1; 0.06];
% E(:,2) = [0;0;0];
%Translate into local coordinate frame:
box{2} = [1 0 0 0;...
          0 1 0 0.069+0.36445/2;...
          0 0 1 0.27035;...
          0 0 0 1];

E(:,3) = [0.06; 0.370/2-0.1; 0.06];
% E(:,3) = [0;0;0];
%Translate into local coordinate frame:
box{3} = [1 0 0 0;...
          0 1 0 0.069+0.36435+0.37429/2;...
          0 0 1 0.27035-0.069;...
          0 0 0 1];      

E(:,4) = [0.06; 0.220/2-0.1; 0.06];
% E(:,4) = [0;0;0];
%Translate into local coordinate frame:
box{4} = [1 0 0 0;...
          0 1 0 0.069+0.36435+0.37429+.229525/2;...
          0 0 1 0.27035-0.069-0.01;...
          0 0 0 1];
      
Eo(:,1) = [0;0;0];

object{1} = [1 0 0 -0.3;...
             0 1 0 0.6;...
             0 0 1 -0.1;...
             0 0 0 1];
% Eo(:,1) = [1;0.1;0.1];

% object{1} = [1 0 0 0.4;...
%              0 1 0 0.4;...
%              0 0 1 0;...
%              0 0 0 1];
% Eo(:,1) = [0.05;1;1];

box{1} = twist1*box{1};
box{2} = twist1*twist2*twist3*box{2};
box{3} = twist1*twist2*twist3*twist4*twist5*box{3};
box{4} = twist1*twist2*twist3*twist4*twist5*twist6*twist7*box{4};

for (i = 1:4)
    for (i1 = i+1:4) 
        collideCheck = colCheckHelp(box{i},E(:,i),box{i1},E(:,i1));
        if collideCheck == 1
            collide = true;
            dispString = strcat('Box ', num2str(i), ' Collided w/ ', num2str(i1));
            disp(dispString)
            return;
        end
    end
    collideCheck = colCheckHelp(box{i},E(:,i),object{1},Eo(:,1));
    if collideCheck == 1
        collide = true;
        dispString = strcat('Box ', num2str(i), ' Obstacle collided');
        disp(dispString)
        return;
    end
end

collide = false;
end